<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Data Pump on SWebber IT Services</title>
    <link>http://swebber.me/tags/data-pump/index.xml</link>
    <description>Recent content in Data Pump on SWebber IT Services</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <atom:link href="http://swebber.me/tags/data-pump/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>ORA-00439: feature not enabled: Deferred Segment Creation</title>
      <link>http://swebber.me/blog/2012/05/06/ora-00439-feature-not-enabled-deferred-segment-creation/</link>
      <pubDate>Sun, 06 May 2012 16:34:38 -0300</pubDate>
      
      <guid>http://swebber.me/blog/2012/05/06/ora-00439-feature-not-enabled-deferred-segment-creation/</guid>
      <description>&lt;p&gt;Durante a migração de um banco, me deparei com a seguinte saida do impdp:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;CREATE TABLE &amp;quot;MYUSER&amp;quot;.&amp;quot;MYTABLE&amp;quot; (&amp;quot;COL1&amp;quot; NUMBER(11,0) NOT NULL ENABLE, &amp;quot;COL2&amp;quot; NUMBER(11,0) NOT NULL ENABLE...) SEGMENT CREATION DEFERRED ..
ORA-39083: Tipo de objeto TABLE:&amp;quot;MYUSER&amp;quot;.&amp;quot;MYTABLE&amp;quot; falhou ao ser criado com o erro:
ORA-00439: recurso não ativado: Deferred Segment Creation
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Após isso, fui confirmar o valor do parametro:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;SQL&amp;gt; column type format a7
SQL&amp;gt; show parameter deferred_segment_creation

NAME                                 TYPE    VALUE
------------------------------------ ------- ------------------------------
deferred_segment_creation            boolean TRUE
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ao confirmar que o parametro estava habilitado tive que alterar a compatibilidade do dump, adicionando o parametro &amp;lsquo;version=10.2&amp;rsquo; na chamada do expdp e do impdp. Como no exemplo:&lt;/p&gt;

&lt;p&gt;Para exportar:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;EXPDP usuario/senha dumpfile=arquivo_dump.dmp directory=DATA_DUMP_DIR version=10.2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;No outro server, para importar o dump criado&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;IMPDP usuario/senha dumpfile=arquivo_dump.dmp directory=DATA_DUMP_DIR version=10.2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Referência:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://oraclequirks.blogspot.com.br/2011/02/ora-00439-feature-not-enabled-deferred.html&#34;&gt;http://oraclequirks.blogspot.com.br/2011/02/ora-00439-feature-not-enabled-deferred.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>