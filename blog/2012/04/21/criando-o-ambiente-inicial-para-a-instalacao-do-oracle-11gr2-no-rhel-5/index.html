<!DOCTYPE html>
<html>

<head>

	
	<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="keywords" content="Environment, Get Started, Oracle, ASM, RHEL, ">

 
<meta property="og:type" content="article"/>
<meta property="og:description" content=""/>
<meta property="og:title" content="swebber.me: Criando o ambiente inicial para a instalação do Oracle 11gR2 no RHEL 5"/>
<meta property="og:site_name" content="Criando o ambiente inicial para a instalação do Oracle 11gR2 no RHEL 5"/>
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="http://swebber.me/blog/2012/04/21/criando-o-ambiente-inicial-para-a-instalacao-do-oracle-11gr2-no-rhel-5/">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2012-04-21"/>
<meta property="article:modified_time" content="2012-04-21"/>



<meta property="article:tag" content="Environment">
<meta property="article:tag" content="Get Started">
<meta property="article:tag" content="Oracle">
<meta property="article:tag" content="ASM">
<meta property="article:tag" content="RHEL">




<meta name="twitter:card" content="summary">

<meta name="twitter:site" content="Sebastian Webber">
<meta name="twitter:title" content="swebber.me: Criando o ambiente inicial para a instalação do Oracle 11gR2 no RHEL 5">
<meta name="twitter:creator" content="Sebastian Webber">
<meta name="twitter:description" content="">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="swebber.me">


	<title>Blog do Seba</title>

	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
	

	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/default.min.css">
	<link href='//fonts.googleapis.com/css?family=Fjalla+One|Open+Sans:300' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="/css/bulma-framework.css">
	<link rel="stylesheet" href="/css/site.css">


	

	<link rel="icon " type="image/png " href="images/favicon.png ">
</head>

<body class="page-layout ">
 <section class="hero is-info is-bold">
		
<nav class="nav has-shadow">
	<div class="container">
		<div class="nav-left">
			<a href="/" class="nav-item is-tab ">Home</a>
			<a href="/blog" class="nav-item is-tab is-active">Blog</a>
			<a href="https://speakerdeck.com/sebastianwebber" target="_blank" class="nav-item is-tab">Palestras</a>
			<a href="https://www.youtube.com/channel/UCUDrutZQt_e4o5i5PC5h2HQ" target="_blank" class="nav-item is-tab">PGCasts</a>
			<a href="/contato" class="nav-item is-tab ">Fale Comigo!</a>
		</div>
	</div>
</nav>

	<div class="hero-body">
		<div class="container">
			<h1 class="title is-1">
				Blog do Seba
			</h1>
			<h2 class="subtitle">
				<strong>DBA</strong>, Consultor, Instrutor, [aprendiz de] <strong>Ninja</strong> e <strong>metido a Chef</strong> nas horas vagas!
			</h2>
		</div>
	</div>
</section>

<section class="section">
    <div class="container">
        <h1 class="title is-2"><a href="http://swebber.me/blog/2012/04/21/criando-o-ambiente-inicial-para-a-instalacao-do-oracle-11gr2-no-rhel-5/">Criando o ambiente inicial para a instalação do Oracle 11gR2 no RHEL 5 </a> </h1>
        <h2 class="subtitle is-4">Apr 21, 2012
        </h2>
         

<h5> 800 Words. Read in about 4 Min.</h5>
<h5>Categories: 
    <a href="http://swebber.me//categories/asm">ASM</a> 
    <a href="http://swebber.me//categories/oracle">Oracle</a> </h5>
<h5>Tags: 
    <a href="http://swebber.me//tags/environment"><span class="tag is-medium">Environment</span></a> 
    <a href="http://swebber.me//tags/get-started"><span class="tag is-medium">Get Started</span></a> 
    <a href="http://swebber.me//tags/oracle"><span class="tag is-medium">Oracle</span></a> 
    <a href="http://swebber.me//tags/asm"><span class="tag is-medium">ASM</span></a> 
    <a href="http://swebber.me//tags/rhel"><span class="tag is-medium">RHEL</span></a> </h5>

<hr/>
        <div class="content is-medium">
            <p>Após a instalação do RHEL e os devidos updates, crie os respectivos usuários e grupos:</p>

<pre><code class="language-bash">groupadd oinstall
groupadd dba
groupadd oper
useradd -g oinstall -G dba,oper oracle
</code></pre>

<p>Agora, identifique seu kernel:</p>

<pre><code class="language-bash"># uname -r
2.6.18-308.4.1.el5
</code></pre>

<p>Baixe, <a href="http://www.oracle.com/technetwork/server-storage/linux/downloads/rhel5-084877.html">do site da oracle</a>, os pacotes necessários:</p>

<ul>
<li><p>oracleasm-support-2.1.7-1.el5.x86_64.rpm</p></li>

<li><p>oracleasmlib-2.0.4-1.el5.x86_64.rpm</p></li>

<li><p>oracleasm-2.6.18-308.4.1.el5-2.0.5-1.el5.x86_64.rpm</p></li>
</ul>

<blockquote>
<p>Estou baixando o pacote do oracleasm de acordo a minha versão do kernel, caso a sua não seja a mesma, baixa a respectiva.</p>
</blockquote>

<p>Instale os pacotes no baixados:</p>

<pre><code class="language-bash">rpm -Uvh oracleasm-support-2.1.7-1.el5.x86_64.rpm
rpm -Uvh oracleasmlib-2.0.4-1.el5.x86_64.rpm
rpm -Uvh oracleasm-2.6.18-308.4.1.el5-2.0.5-1.el5.x86_64.rpm
</code></pre>

<p>Configure o ASM:</p>

<pre><code class="language-bash"># /etc/init.d/oracleasm configure
Configuring the Oracle ASM library driver.

This will configure the on-boot properties of the Oracle ASM library
driver.  The following questions will determine whether the driver is
loaded on boot and what permissions it will have.  The current values
will be shown in brackets ('[]').  Hitting  without typing an
answer will keep that current value.  Ctrl-C will abort.

Default user to own the driver interface []: oracle
Default group to own the driver interface []: oinstall
Start Oracle ASM library driver on boot (y/n) [n]: y
Scan for Oracle ASM disks on boot (y/n) [y]: y
Writing Oracle ASM library driver configuration: done
Initializing the Oracle ASMLib driver:                     [  OK  ]
Scanning the system for Oracle ASMLib disks:               [  OK  ]
</code></pre>

<blockquote>
<p>Nesse ponto, particione os discos de acordo com a necessidade.</p>
</blockquote>

<p>No exemplo, a instalação está no disco 1 (sda) e o ASM está nos discos 2 (sdb) e 3 (sdc) e os particionei em 8 partes de 5gb cada um.</p>

<pre><code class="language-bash"># fdisk -l

Disk /dev/sda: 21.4 GB, 21474836480 bytes
255 heads, 63 sectors/track, 2610 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes

   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           1          13      104391   83  Linux
/dev/sda2              14        2610    20860402+  8e  Linux LVM

Disk /dev/sdb: 42.9 GB, 42949672960 bytes
255 heads, 63 sectors/track, 5221 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1               1        5221    41937651    5  Extended
/dev/sdb5               1         609     4891729+  83  Linux
/dev/sdb6             610        1218     4891761   83  Linux
/dev/sdb7            1219        1827     4891761   83  Linux
/dev/sdb8            1828        2436     4891761   83  Linux
/dev/sdb9            2437        3045     4891761   83  Linux
/dev/sdb10           3046        3654     4891761   83  Linux
/dev/sdb11           3655        4263     4891761   83  Linux
/dev/sdb12           4264        5221     7695103+  83  Linux

Disk /dev/sdc: 42.9 GB, 42949672960 bytes
255 heads, 63 sectors/track, 5221 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes

   Device Boot      Start         End      Blocks   Id  System
/dev/sdc1               1        5221    41937651    5  Extended
/dev/sdc5               1         609     4891729+  83  Linux
/dev/sdc6             610        1218     4891761   83  Linux
/dev/sdc7            1219        1827     4891761   83  Linux
/dev/sdc8            1828        2436     4891761   83  Linux
/dev/sdc9            2437        3045     4891761   83  Linux
/dev/sdc10           3046        3654     4891761   83  Linux
/dev/sdc11           3655        4263     4891761   83  Linux
/dev/sdc12           4264        5221     7695103+  83  Linux
</code></pre>

<p>Agora marque os discos como disponíveis para a ASM:</p>

<pre><code class="language-bash"># /etc/init.d/oracleasm createdisk ASMDISK01 /dev/sdb5
Marking disk &quot;ASMDISK01&quot; as an ASM disk:                   [  OK  ]
# /etc/init.d/oracleasm createdisk ASMDISK02 /dev/sdb6
Marking disk &quot;ASMDISK02&quot; as an ASM disk:                   [  OK  ]
# /etc/init.d/oracleasm createdisk ASMDISK03 /dev/sdb7
Marking disk &quot;ASMDISK03&quot; as an ASM disk:                   [  OK  ]
# /etc/init.d/oracleasm createdisk ASMDISK04 /dev/sdb8
Marking disk &quot;ASMDISK04&quot; as an ASM disk:                   [  OK  ]
# /etc/init.d/oracleasm createdisk ASMDISK05 /dev/sdb9
Marking disk &quot;ASMDISK05&quot; as an ASM disk:                   [  OK  ]
# /etc/init.d/oracleasm createdisk ASMDISK06 /dev/sdb10
Marking disk &quot;ASMDISK06&quot; as an ASM disk:                   [  OK  ]
# /etc/init.d/oracleasm createdisk ASMDISK07 /dev/sdb11
Marking disk &quot;ASMDISK07&quot; as an ASM disk:                   [  OK  ]
# /etc/init.d/oracleasm createdisk ASMDISK08 /dev/sdb12
Marking disk &quot;ASMDISK08&quot; as an ASM disk:                   [  OK  ]
# /etc/init.d/oracleasm createdisk ASMDISK09 /dev/sdc5
Marking disk &quot;ASMDISK09&quot; as an ASM disk:                   [  OK  ]
# /etc/init.d/oracleasm createdisk ASMDISK10 /dev/sdc6
Marking disk &quot;ASMDISK10&quot; as an ASM disk:                   [  OK  ]
# /etc/init.d/oracleasm createdisk ASMDISK11 /dev/sdc7
Marking disk &quot;ASMDISK11&quot; as an ASM disk:                   [  OK  ]
# /etc/init.d/oracleasm createdisk ASMDISK12 /dev/sdc8
Marking disk &quot;ASMDISK12&quot; as an ASM disk:                   [  OK  ]
# /etc/init.d/oracleasm createdisk ASMDISK13 /dev/sdc9
Marking disk &quot;ASMDISK13&quot; as an ASM disk:                   [  OK  ]
# /etc/init.d/oracleasm createdisk ASMDISK14 /dev/sdc10
Marking disk &quot;ASMDISK14&quot; as an ASM disk:                   [  OK  ]
# /etc/init.d/oracleasm createdisk ASMDISK15 /dev/sdc11
Marking disk &quot;ASMDISK15&quot; as an ASM disk:                   [  OK  ]
# /etc/init.d/oracleasm createdisk ASMDISK16 /dev/sdc12
Marking disk &quot;ASMDISK16&quot; as an ASM disk:                   [  OK  ]
</code></pre>

<p>Agora veja a relação discos disponíveis:</p>

<pre><code class="language-bash"># /etc/init.d/oracleasm listdisks
ASMDISK01
ASMDISK02
ASMDISK03
ASMDISK04
ASMDISK05
ASMDISK06
ASMDISK07
ASMDISK08
ASMDISK09
ASMDISK10
ASMDISK11
ASMDISK12
ASMDISK13
ASMDISK14
ASMDISK15
ASMDISK16
</code></pre>

<blockquote>
<p>ASMDISKXX é o label que dei para o disco e é como você irá identificar o mesmo na configuração da ASM&hellip; Ajuste o nome conforme achar necessário.</p>
</blockquote>

<p>Agora instale os pacotes necessários:</p>

<pre><code class="language-bash"># yum install gcc elfutils-libelf-devel glibc-devel glibc-headers gcc-c++ libaio-devel libstdc++-devel sysstat unixODBC unixODBC-devel
</code></pre>

<blockquote>
<p>UPDATE: Após o reboot do servidor a ASM não iniciou, logo, deixei a correção <a href="/blog/2012/04/28/apos-reboot-asm-nao-iniciou/">em outro post</a>.</p>
</blockquote>

            <h2>Comentários</h2>
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'swebber';
    var disqus_identifier = 'http:\/\/swebber.me\/blog\/2012\/04\/21\/criando-o-ambiente-inicial-para-a-instalacao-do-oracle-11gr2-no-rhel-5\/';
    var disqus_title = 'Criando o ambiente inicial para a instalação do Oracle 11gR2 no RHEL 5';
    var disqus_url = 'http:\/\/swebber.me\/blog\/2012\/04\/21\/criando-o-ambiente-inicial-para-a-instalacao-do-oracle-11gr2-no-rhel-5\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </div>

</section>
<footer class="footer">
	<div class="container">
		<div class="content has-text-centered">
			<p>
				<strong>Blog do Seba</strong> by <a href="http://swebber.me/">Sebastian Webber</a>.
			</p>
			<p>
				<a target="_blank" class="icon" href="https://github.com/sebastianwebber">
					<i class="fa fa-github"></i>
				</a>
				<a target="_blank" class="icon" href="https://instagram.com/_sebastianwebber">
					<i class="fa fa-instagram"></i>
				</a>
				<a target="_blank" class="icon" href="https://twitter.com/sebastian_swc">
					<i class="fa fa-twitter"></i>
				</a>
			</p>
		</div>
	</div>
</footer> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>

</html>
